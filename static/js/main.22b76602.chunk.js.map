{"version":3,"sources":["components/layout/spinner.gif","components/layout/NavBar.js","context.js","components/layout/Spinner.js","components/tracks/Track.js","components/tracks/Tracks.js","components/tracks/Search.js","components/layout/Index.js","components/tracks/Lyrics.js","App.js","index.js"],"names":["module","exports","NavBar","className","Context","React","createContext","reducer","state","action","type","track_list","payload","heading","Provider","dispatch","setState","axios","get","process","then","res","data","message","body","catch","err","console","log","value","this","props","children","Component","Consumer","src","spinner","alt","style","width","margin","display","Track","track","artist_name","track_name","album_name","to","track_id","Tracks","undefined","length","Spinner","Fragment","map","item","key","Search","trackTitle","onChange","e","target","name","findTrack","preventDefault","onSubmit","bind","placeholder","Index","Lyrics","lyrics","match","params","id","Object","keys","lyrics_body","album_id","primary_genres","music_genre_list","music_genre","music_genre_name","explicit","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22b76602.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/spinner.235b9b3e.gif\";","import React from \"react\";\n\nconst NavBar = () => {\n  return (\n    <nav className=\"navbar navbar-dark bg-dark mb-5\">\n      <span className=\"navbar-brand mb-0 h1 mx-auto\">LyricFinder</span>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nconst Context = React.createContext();\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SEARCH_TRACKS\":\n      return {\n        ...state,\n        track_list: action.payload,\n        heading: \"Search Results\",\n      };\n    default:\n      return state;\n  }\n};\n\nexport class Provider extends Component {\n  state = {\n    heading: \"Top 10 tracks\",\n    track_list: [],\n    dispatch: (action) => this.setState((state) => reducer(state, action)),\n  };\n\n  componentDidMount() {\n    axios\n      .get(\n        // https://cors-anywhere.herokuapp.com/\n        `https://cors-anywhere.herokuapp.com/https://api.musixmatch.com/ws/1.1/chart.tracks.get?page=1&page_size=10country=uk&if_has_lyrics=1&apikey=${process.env.REACT_APP_MM_KEY}`\n      )\n      //response is always res.data when using axios\n      .then((res) => {\n        this.setState({ track_list: res.data.message.body.track_list });\n      })\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    return (\n      <Context.Provider value={this.state}>\n        {this.props.children}\n      </Context.Provider>\n    );\n  }\n}\n\nexport const Consumer = Context.Consumer;\n","import React from \"react\";\nimport spinner from \"./spinner.gif\";\n\nexport default () => {\n  return (\n    <img\n      src={spinner}\n      alt=\"Loading...\"\n      style={{ width: \"200px\", margin: \"40px auto\", display: \"block\" }}\n    />\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Track = (props) => {\n  const { track } = props;\n  return (\n    <div className=\"col-md-6\">\n      <div className=\"card mb-4 shadow-sm\">\n        <div className=\"card-body\">\n          <h5>{track.artist_name}</h5>\n          <p className=\"card-text\">\n            <strong>\n              <i className=\"fas fa-music\"></i> Track\n            </strong>\n            : {track.track_name}\n          </p>\n          <p className=\"card-text\">\n            <strong>\n              <i className=\"fas fa-compact-disc\"></i> Album\n            </strong>\n            : {track.album_name}\n          </p>\n          <Link\n            className=\"btn btn-dark btn-block\"\n            to={`lyrics/track/${track.track_id}`}\n          >\n            <i className=\"fas-fa-chevron-right\"></i> View Lyrics\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Track;\n","import React, { Component } from \"react\";\nimport { Consumer } from \"../../context\";\nimport Spinner from \"../layout/Spinner\";\nimport Track from \"./Track\";\nclass Tracks extends Component {\n  render() {\n    return (\n      <Consumer>\n        {(value) => {\n          console.log(value);\n          const { track_list, heading } = value;\n          if (track_list === undefined || track_list.length === 0) {\n            return <Spinner />;\n          } else {\n            return (\n              <React.Fragment>\n                <h3 className=\"text-center mb-4\">{heading}</h3>\n                <div className=\"row\">\n                  {track_list.map((item) => (\n                    <Track track={item.track} key={item.track.track_id} />\n                  ))}\n                </div>\n              </React.Fragment>\n            );\n          }\n        }}\n      </Consumer>\n    );\n  }\n}\n\nexport default Tracks;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport { Consumer } from \"../../context\";\n\nclass Search extends Component {\n  state = {\n    trackTitle: \"\",\n  };\n\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  findTrack = (dispatch, e) => {\n    e.preventDefault();\n    axios\n      .get(\n        // https://cors-anywhere.herokuapp.com/\n        `/ws/1.1/track.search?q_track=${this.state.trackTitle}&page_size=10&page=1&s_track_rating=desc&apikey=${process.env.REACT_APP_MM_KEY}`\n      )\n      //response is always res.data when using axios\n      .then((res) => {\n        dispatch({\n          type: \"SEARCH_TRACKS\",\n          payload: res.data.message.body.track_list,\n        });\n        this.setState({ trackTitle: \"\" });\n      })\n\n      .catch((err) => console.log(err));\n  };\n  render() {\n    return (\n      <Consumer>\n        {(value) => {\n          const { dispatch } = value;\n          return (\n            <div className=\"card card-body mb-4 p-4\">\n              <h1 className=\"display-4 text-center\">\n                <i className=\"fas fas-music\"></i> Search For A Song\n              </h1>\n              <p className=\"lead text-center\">Get the lyrics for any song</p>\n              <form onSubmit={this.findTrack.bind(this, dispatch)}>\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control form-control-lg\"\n                    placeholder=\"Search for a song...\"\n                    name=\"trackTitle\"\n                    value={this.state.trackTitle}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <button\n                  className=\"btn btn-primary btn-lg btn-block mb-5\"\n                  type=\"submit\"\n                >\n                  Get track lyrics\n                </button>\n              </form>\n            </div>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\nexport default Search;\n","import React from \"react\";\nimport Tracks from \"../tracks/Tracks\";\nimport Search from \"../tracks/Search\";\n\nconst Index = () => {\n  return (\n    <React.Fragment>\n      <Search />\n      <Tracks />\n    </React.Fragment>\n  );\n};\n\nexport default Index;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport { Link } from \"react-router-dom\";\n\nimport Spinner from \"../layout/Spinner\";\n\nclass Lyrics extends Component {\n  state = {\n    track: {},\n    lyrics: {},\n  };\n  componentDidMount() {\n    axios\n      .get(\n        // https://cors-anywhere.herokuapp.com/\n        //this.props.match.params.id - gets ID from url\n        `/ws/1.1/track.lyrics.get?track_id=${this.props.match.params.id}&apikey=${process.env.REACT_APP_MM_KEY}`\n      )\n      //response is always res.data when using axios\n      .then((res) => {\n        this.setState({ lyrics: res.data.message.body.lyrics });\n\n        return axios.get(\n          // https://cors-anywhere.herokuapp.com/\n          //this.props.match.params.id - gets ID from url\n          `/ws/1.1/track.get?track_id=${this.props.match.params.id}&apikey=${process.env.REACT_APP_MM_KEY}`\n        );\n      })\n      .then((res) => {\n        this.setState({ track: res.data.message.body.track });\n      })\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    const { track, lyrics } = this.state;\n    if (\n      track === undefined ||\n      lyrics === undefined ||\n      Object.keys(track).length === 0 ||\n      Object.keys(lyrics).length === 0\n    ) {\n      return <Spinner />;\n    } else {\n      return (\n        <React.Fragment>\n          <Link to=\"/\" className=\"btn btn-dark btn-sm mb-4\">\n            Go back\n          </Link>\n          <div className=\"card\">\n            <h5 className=\"card-header\">\n              {track.track_name} by{\" \"}\n              <span className=\"text-secondary\">{track.artist_name}</span>\n            </h5>\n            <div className=\"card-body\">\n              <p className=\"card-text\">{lyrics.lyrics_body}</p>\n            </div>\n          </div>\n\n          <ul className=\"list-group mt-3\">\n            <li className=\"list-group-item\">\n              <strong>Album ID</strong>: {track.album_id}\n            </li>\n            <li className=\"list-group-item\">\n              <strong>Song Genre</strong>:{\" \"}\n              {\n                track.primary_genres.music_genre_list[0].music_genre\n                  .music_genre_name\n              }\n            </li>\n            <li className=\"list-group-item\">\n              <strong>Explicit</strong>: {track.explicit ? \"Yes\" : \"No\"}\n            </li>\n          </ul>\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nexport default Lyrics;\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n// Components\nimport Navbar from \"./components/layout/NavBar\";\nimport Index from \"./components/layout/Index\";\n\nimport Lyrics from \"./components/tracks/Lyrics\";\n\nimport { Provider } from \"./context\";\n\nfunction App() {\n  return (\n    <Provider>\n      <Router>\n        <React.Fragment>\n          <Navbar />\n          <div className=\"container\">\n            <Switch>\n              <Route exact path=\"/\" component={Index} />\n              <Route exact path=\"/lyrics/track/:id\" component={Lyrics} />\n            </Switch>\n          </div>\n        </React.Fragment>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}